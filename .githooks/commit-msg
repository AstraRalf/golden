#!/usr/bin/env bash
set -euo pipefail
msgfile="$1"
re='^(feat|fix|chore|docs|refactor|style|test|ci|build)(\(.+\))?!?: .+'
if ! grep -P -q "$re" "$msgfile"; then
  cat >&2 <<'EOF'
âŒ Commit-Message muss Conventional Commits folgen, z. B.:
   feat: add SPOT skeleton
   fix(core): handle null in loader
EOF
  exit 1
fi