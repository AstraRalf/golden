#!/usr/bin/env bash
# FAB7: block commit on trailing whitespace or blank line at EOF
if out=$(git diff --cached --check); then
  if [[ -n "$out" ]]; then
    echo "$out" >&2
    echo "âŒ Commit blocked by whitespace/EOL checks. Fix trailing spaces; avoid extra blank line at EOF." >&2
    exit 1
  fi
else
  exit 1
fi
exit 0